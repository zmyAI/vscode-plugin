# 文档平台导出的 Markdown 文件格式优化器插件

一个用Trae AI助手开发的自定义Markdown格式化工具，让你的文档排版更加整洁、专业。

## 为什么需要这个插件？

在处理Markdown文档时，你可能遇到过这样的问题：从一些文档平台导出的Markdown文件，会带着字体样式等额外信息，导入到其他编辑器或博客系统后，排版看起来总是不太规整，而普通的格式化工具又无法完全解决这些个性化需求。

这个插件就是为了解决这些问题而生，可以根据自定义规则清理和优化Markdown文档的排版。

## 功能特点

本插件提供三种不同的Markdown格式化器，以满足不同场景下的文档处理需求：

### 1. 标准Markdown格式化器

适用于大多数普通Markdown文档的格式化，提供以下功能：

- **删除特定HTML标签**：清除不必要的HTML标签（如`<font>`标签）
- **移除多余符号**：处理特殊格式符号（如`**`加粗符号）
- **清理标题序号**：自动清理标题中的序号（将`### 1.2 标题`变成`### 标题`）
- **删除分隔线**：移除文档中的所有分隔线（如`---`、`***`）
- **统一换行符**：将所有换行符转换为Unix格式（LF）
- **优化空行**：在标题后添加空行，调整代码块前后空行
- **调整列表间距**：在列表项之间添加空行，提高可读性
- **合并连续空行**：将多个连续的空行合并为一个

### 2. Cubox文档格式化器

专门针对从Cubox导出的Markdown文档进行优化：

- 包含标准格式化器的所有功能
- **移除Cubox特有标记**：清理`[mp.weixin.qq.com]`来源标记和`[Read in Cubox]`链接
- **转换特殊格式**：将Cubox特有的列表格式转换为标准Markdown格式

### 3. VuePress文档格式化器

专门用于处理VuePress等博客系统的Markdown文档：

- 包含标准格式化器的大部分功能
- **保留分隔线**：不会删除文档中的分隔线（与标准格式化器的主要区别）
- **保持列表紧凑**：列表项之间不添加额外空行，保持原有紧凑排版
- **其他格式化**：包括统一换行符、删除HTML标签、移除多余符号等功能

## 使用方法

1. 打开需要格式化的Markdown文件
2. 右键点击，在上下文菜单中选择对应的格式化选项：
   - 对于普通Markdown文档：选择"优化Markdown文件格式"
   - 对于从Cubox导出的文档：选择"优化Cubox导出的Markdown文件"
   - 对于VuePress的文档：选择"优化VuePress的Markdown文件"
3. 插件将根据所选格式化器的规则自动处理文档内容

## 示例

### 标准格式化器示例

**格式化前**：
```markdown
### 1.2 标题
<font color=red>红色文字</font>
**加粗内容**
---

- 项目1
- 项目2
```

**格式化后**（删除分隔线，列表项间添加空行）：
```markdown
### 标题

红色文字
加粗内容


- 项目1

- 项目2

```

### VuePress格式化器示例

**格式化前**：
```markdown
---
title: VuePress
date: 2025-05-28T05:31:54.077Z
category:
  - vuepress
tags:
  - vuepress
---

### 1.2 标题
<font color=red>红色文字</font>
**加粗内容**
---

- 项目1
- 项目2
```

**格式化后**（保留分隔线，列表项间无空行）：
```markdown
---
title: VuePress
date: 2025-05-28T05:31:54.077Z
category:
  - vuepress
tags:
  - vuepress
---

### 标题

红色文字
加粗内容
---

- 项目1
- 项目2
```

## 安装说明

### 方式一：从VSIX包安装

1. 下载最新的VSIX包文件
2. 打开VS Code，点击插件市场右上角的"..."，选择"Install from VSIX..."
3. 找到生成的.vsix文件并安装
4. 重启VS Code使插件生效

### 方式二：从源码安装

1. 克隆此仓库到本地
2. 打开VS Code，在项目根目录运行`npm install`安装依赖
3. 执行`npm install -g vsce`命令全局安装VSCE工具
4. 使用`vsce package`命令创建插件包（生成.vsix文件）
5. 打开VS Code，点击插件市场右上角的"..."，选择"Install from VSIX..."
6. 找到生成的.vsix文件并安装
7. 重启VS Code使插件生效

## 贡献

欢迎提交Issues和Pull Requests来改进此插件。如果你有任何建议或功能请求，也可以随时提出。

## 致谢

特别感谢Trae AI编程助手在开发过程中提供的帮助，让零基础开发VS Code插件成为可能！